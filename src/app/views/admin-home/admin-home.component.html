<app-admin-navbar></app-admin-navbar>

<mat-tab-group mat-align-tabs="center">
  <mat-tab label="Students">
    <div class="card" *ngIf="students$ | async as students" >
      <div class="card">
        <mat-card class="example-card">
          <img mat-card-image src="https://gladstoneentertainment.com/wp-content/uploads/2018/08/blank-portrait.png" alt="blank-portrait">
          <mat-card-title></mat-card-title>
          <mat-card-actions>
            <button mat-raised-button color="accent" (click)="openStudentDialog()">Add student</button>
          </mat-card-actions>
        </mat-card>
      </div>
      <div *ngFor="let student of students">
        <mat-card class="example-card">
          <img
            mat-card-image
            src="{{ student.image }}"
            alt="{{ student.name }}"
          />
          <mat-card-title>{{ student.name }}</mat-card-title>
          <mat-card-actions>
            <button mat-raised-button color="primary">Edit</button>
            <button mat-raised-button color="warn" (click)="deleteStudent(student.id, student.name)">Delete</button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>

  </mat-tab>


  <mat-tab label="Mentors">
    <div class="card mentors-cards"  *ngIf="mentors$ | async as mentors">
      <mat-card class="mentors-card">
        <h2>Front-End stream:</h2>
        <mat-divider></mat-divider>

        <mat-selection-list #FEmentor >
          <ng-container *ngFor="let mentor of mentors">
          <mat-list-option *ngIf="mentor.stream == 'Front-end'" [value]="mentor">
            <ng-container>
              {{ mentor.name }}
            </ng-container>

          </mat-list-option>
          </ng-container>
        </mat-selection-list>
        <div class="mentor-card-buttons">
        <button mat-raised-button color="primary" class="add-button" (click)="openMentorDialog('Front-end', mentors)">Add mentor</button>
        <button mat-raised-button color="warn" [disabled]="FEmentor.selectedOptions.selected.length==0" (click)="deleteMentors(FEmentor.selectedOptions.selected, mentors)">Delete</button>
        </div>
      </mat-card>

      <mat-card class="mentors-card">
        <h2>Back-End stream:</h2>
        <mat-divider></mat-divider>
        <mat-selection-list #BEmentor>
          <ng-container *ngFor="let mentor of mentors">
            <mat-list-option *ngIf="mentor.stream == 'Back-end'" [value]="mentor">
              <ng-container >
                {{ mentor.name }}</ng-container></mat-list-option>
          </ng-container>
        </mat-selection-list>
        <div class="mentor-card-buttons">
          <button mat-raised-button color="primary" class="add-button" (click)="openMentorDialog('Back-end', mentors)">Add mentor</button>
          <button mat-raised-button color="warn" [disabled]="BEmentor.selectedOptions.selected.length==0" (click)="deleteMentors(BEmentor.selectedOptions.selected, mentors)">Delete</button>
        </div>
      </mat-card>

      <mat-card class="mentors-card">
        <h2>Quality assurance stream:</h2>
        <mat-divider></mat-divider>
        <mat-selection-list #QAmentor>
          <ng-container *ngFor="let mentor of mentors">
            <mat-list-option *ngIf="mentor.stream == 'QA'" [value]="mentor">
              <ng-container >
                {{ mentor.name }}</ng-container></mat-list-option>
          </ng-container>
        </mat-selection-list>
        <div class="mentor-card-buttons">
          <button mat-raised-button color="primary" class="add-button" (click)="openMentorDialog('QA', mentors)">Add mentor</button>
          <button mat-raised-button color="warn" [disabled]="QAmentor.selectedOptions.selected.length==0" (click)="deleteMentors(QAmentor.selectedOptions.selected, mentors)">Delete</button>
        </div>
      </mat-card>
    </div>
  </mat-tab>

</mat-tab-group>
